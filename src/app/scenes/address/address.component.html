<ng-container *ngIf="(address | async) as addr; else addressNotFound">
  <h3 class="uk-heading-divider">Address</h3>
  <div class="uk-margin">
    <div class="uk-overflow-auto">
      <table class="uk-table uk-table-small uk-table-small fs-14">
        <tr>
          <td>Address hash</td>
          <td>{{addr.address}}</td>
        </tr>
        <tr>
          <td>Balance</td>
          <td>{{addr.balance_wei | weiToGO | bigNumber}}</td>
        </tr>
        <tr>
          <td>Total transactions</td>
          <td>{{addr.number_of_transactions}}</td>
        </tr>
        <tr *ngIf="addr.contract && addr.go20">
          <td>Total internal transactions</td>
          <td>{{addr.number_of_internal_transactions}}</td>
        </tr>
        <tr *ngIf="addr.contract && addr.go20">
          <td>Total holders</td>
          <td>{{addr.number_of_token_holders}}</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="uk-margin">
    <app-tabs>
      <tab>
        <tab-title>
          Transactions
        </tab-title>
        <tab-content>
          <ng-container *ngIf="transactions.length; else emptyTransactions">
            <div class="uk-overflow-auto">
              <table class="uk-table uk-table-small uk-table-striped">
                <thead>
                <tr>
                  <th class="uk-width-1-3">Transaction hash</th>
                  <th class="uk-text-nowrap uk-table-shrink">Created at</th>
                  <th class="uk-table-shrink"></th>
                  <th class="uk-width-1-3">Associate</th>
                  <th class="uk-text-nowrap uk-table-shrink">Value (GO)</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let tx of transactions">
                  <td class="uk-text-truncate"><a routerLink="/tx/{{tx.tx_hash}}">{{tx.tx_hash}}</a></td>
                  <td class="uk-text-nowrap">
                    {{tx.created_at| date: 'dd/MM/yyyy HH:mm:ss'}} ({{tx.created_at | timeAgo}})
                  </td>
                  <ng-container *ngIf="addr.address === tx.to; else out">
                    <td>
                      <i class="fas fa-arrow-left fa-fw"></i>
                    </td>
                    <td class="uk-text-truncate">
                      <a routerLink="/addr/{{tx.from}}">{{tx.from}}</a>
                    </td>
                  </ng-container>
                  <ng-template #out>
                    <td>
                      <i class="fas fa-arrow-right fa-fw"></i>
                    </td>
                    <td class="uk-text-truncate">
                      <a routerLink="/addr/{{tx.to}}">{{tx.to}}</a>
                    </td>
                  </ng-template>
                  <td class="uk-text-nowrap ta-r ws-p">
                    {{addr.address === tx.to ? '+' : '-'}} {{tx.value | weiToGO: false : true | bigNumber}}
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <div class="uk-margin">
              <ng-template [appInfinityScroll]="transactionScrollState" (onView)="onScroll('transaction')">
                <app-loader></app-loader>
              </ng-template>
            </div>
          </ng-container>
          <ng-template #emptyTransactions>
            <div class="empty">No transactions</div>
          </ng-template>
        </tab-content>
      </tab>
      <tab *ngIf="addr.contract && addr.go20">
        <tab-title>
          Internal Transactions
        </tab-title>
        <tab-content>
          <ng-container *ngIf="internal_transactions.length; else emptyInternal">
            <div class="uk-overflow-auto">
              <table class="uk-table uk-table-small uk-table-striped" style="table-layout: fixed;">
                <thead>
                <tr>
                  <!--<th class="uk-text-nowrap uk-table-shrink">Block</th>-->
                  <th class="uk-width-1-5">Transaction hash</th>
                  <th class="uk-width-1-5 uk-text-nowrap uk-table-shrink">Created at</th>
                  <th class="uk-width-1-5">To</th>
                  <th class="uk-width-1-5">From</th>
                  <th class="uk-width-1-5 uk-text-nowrap">Value (GO)</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let tx of internal_transactions">
                  <!--<td class="uk-text-nowrap"><a routerLink="/block/{{tx.block_number}}">{{tx.block_number}}</a></td>-->
                  <td class="uk-text-truncate"><a routerLink="/tx/{{tx.transaction_hash}}">{{tx.transaction_hash}}</a>
                  </td>
                  <td>{{tx.updated_at| date: 'dd/MM/yyyy HH:mm:ss'}} ({{tx.updated_at | timeAgo }})</td>
                  <td class="uk-text-truncate"><a routerLink="/addr/{{tx.to_address}}">{{tx.to_address}}</a></td>
                  <td class="uk-text-truncate"><a routerLink="/addr/{{tx.from_address}}">{{tx.from_address}}</a></td>
                  <td class="uk-text-nowrap ta-r ws-p">{{tx.value | weiToGO: false : true | bigNumber}}</td>
                </tr>
                </tbody>
              </table>
            </div>
            <div class="uk-margin">
              <ng-template [appInfinityScroll]="internalTransactionScrollState"
                           (onView)="onScroll('internalTransaction')">
                <app-loader></app-loader>
              </ng-template>
            </div>
          </ng-container>
          <ng-template #emptyInternal>
            <div class="empty">No internal transactions</div>
          </ng-template>
        </tab-content>
      </tab>
      <tab *ngIf="addr.contract && addr.go20">
        <tab-title>
          Holders
        </tab-title>
        <tab-content>
          <ng-container *ngIf="token_holders.length; else emptyHolders">
            <div class="uk-overflow-auto">
              <table class="uk-table uk-table-small uk-table-striped" style="table-layout: fixed;">
                <thead>
                <tr>
                  <th class="uk-width-1-4">Token holder</th>
                  <th class="uk-width-1-4">Balance (GO)</th>
                  <th class="uk-width-1-4">Token name</th>
                  <th class="uk-width-1-4">Token symbol</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let holder of token_holders">
                  <td class="uk-text-truncate">
                    <a routerLink="/addr/{{holder.token_holder_address}}">{{holder.token_holder_address}}</a>
                  </td>
                  <td class="uk-text-nowrap ta-r ws-p">{{holder.balance | weiToGO: false : true | bigNumber}}</td>
                  <td class="uk-text-truncate">{{holder.token_name}}</td>
                  <td class="uk-text-truncate">{{holder.token_symbol}}</td>
                </tr>
                </tbody>
              </table>
            </div>
            <div class="uk-margin">
              <ng-template [appInfinityScroll]="holderScrollState" (onView)="onScroll('holder')">
                <app-loader></app-loader>
              </ng-template>
            </div>
          </ng-container>
          <ng-template #emptyHolders>
            <div class="empty">No holders</div>
          </ng-template>
        </tab-content>
      </tab>
      <tab>
        <tab-title>
          Contract Source
        </tab-title>
        <tab-content>
          <h5 class="uk-margin uk-margin-top uk-heading-bullet"><i class="fas fa-exclamation-triangle"></i> Contract Source Code Unverified</h5>
          <a routerLink="/contract/{{this.addrHash}}" class="uk-button uk-button-primary uk-button-small">Verify And Publish Source Code</a>
          <h5 class="uk-margin uk-margin-large-top uk-heading-bullet"><i class="fas fa-microchip"></i> Contract Bytecode</h5>
          <pre class="code">0x60806040526004361061015d5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166265318b811461016b57806306fdde031461019e57806310d0ffdd1461022857806318160ddd14610240578063226093731461025557806327defa1f1461026d578063313ce567146102965780633ccfd60b146102c15780634b750334146102d857806356d399e8146102ed578063688abbf7146103025780636b2f46321461031c57806370a082311461033157806376be1585146103525780638328b610146103735780638620410b1461038b57806387c95058146103a0578063949e8acd146103c657806395d89b41146103db578063a8e04f34146103f0578063a9059cbb14610405578063b84c824614610429578063c47f002714610482578063e4849b32146104db578063e9fad8ee146104f3578063f088d54714610508578063fdb5a03e1461051c575b610168346000610531565b50005b34801561017757600080fd5b5061018c600160a060020a0360043516610b07565b60408051918252519081900360200190f35b3480156101aa57600080fd5b506101b3610b42565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101ed5781810151838201526020016101d5565b50505050905090810190601f16801561021a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561023457600080fd5b5061018c600435610bd0565b34801561024c57600080fd5b5061018c610c00565b34801561026157600080fd5b5061018c600435610c07565b34801561027957600080fd5b50610282610c40565b604080519115158252519081900360200190f35b3480156102a257600080fd5b506102ab610c49565b6040805160ff9092168252519081900360200190f35b3480156102cd57600080fd5b506102d6610c4e565b005b3480156102e457600080fd5b5061018c610d21565b3480156102f957600080fd5b5061018c610d76565b34801561030e57600080fd5b5061018c6004351515610d7c565b34801561032857600080fd5b5061018c610dbf565b34801561033d57600080fd5b5061018c600160a060020a0360043516610dc4565b34801561035e57600080fd5b50610282600160a060020a0360043516610ddf565b34801561037f57600080fd5b506102d6600435610df4565b34801561039757600080fd5b5061018c610e18565b3480156103ac57600080fd5b506102d6600160a060020a03600435166024351515610e61565b3480156103d257600080fd5b5061018c610eab565b3480156103e757600080fd5b506101b3610ebe565b3480156103fc57600080fd5b506102d6610f18565b34801561041157600080fd5b50610282600160a060020a0360043516602435610f43565b34801561043557600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526102d69436949293602493928401919081908401838280828437509497506110fd9650505050505050565b34801561048e57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526102d69436949293602493928401919081908401838280828437509497506111339650505050505050565b3480156104e757600080fd5b506102d6600435611164565b3480156104ff57600080fd5b506102d66112b5565b61018c600160a060020a03600435166112e2565b34801561052857600080fd5b506102d66112ee565b60008060008060008060008060008a6000339050600b60009054906101000a900460ff16801561057357506801e5b8fa8fe2ac00008261056f610dbf565b0311155b1561088057600160a060020a03811660009081526003602052604090205460ff16151560011480156105c85750600160a060020a0381166000908152600760205260409020546729a2241af62c000090830111155b15156105d357600080fd5b600160a060020a0381166000908152600760205260409020546105f690836113a4565b600160a060020a03821660009081526007602052604090205533995061061d8d60056113ba565b985061062a8960036113ba565b975061063689896113d1565b96506106428d8a6113d1565b955061064d866113e3565b94506801000000000000000087029350600085118015610677575060085461067586826113a4565b115b151561068257600080fd5b600160a060020a038c16158015906106ac575089600160a060020a03168c600160a060020a031614155b80156106d25750600254600160a060020a038d1660009081526004602052604090205410155b1561071857600160a060020a038c166000908152600560205260409020546106fa90896113a4565b600160a060020a038d16600090815260056020526040902055610733565b61072287896113a4565b965068010000000000000000870293505b600060085411156107975761074a600854866113a4565b600881905568010000000000000000880281151561076457fe5b6009805492909104909101905560085468010000000000000000880281151561078957fe5b04850284038403935061079d565b60088590555b600160a060020a038a166000908152600460205260409020546107c090866113a4565b600460008c600160a060020a0316600160a060020a031681526020019081526020016000208190555083856009540203925082600660008c600160a060020a0316600160a060020a03168152602001908152602001600020600082825401925050819055508b600160a060020a03168a600160a060020a03167f022c0d992e4d873a3748436d960d5140c1f9721cf73f7ca5ec679d3d9f4fe2d58f88604051808381526020018281526020019250505060405180910390a3849a50610af7565b600b805460ff191690553399506108988d60056113ba565b98506108a58960036113ba565b97506108b189896113d1565b96506108bd8d8a6113d1565b95506108c8866113e3565b945068010000000000000000870293506000851180156108f257506008546108f086826113a4565b115b15156108fd57600080fd5b600160a060020a038c1615801590610927575089600160a060020a03168c600160a060020a031614155b801561094d5750600254600160a060020a038d1660009081526004602052604090205410155b1561099357600160a060020a038c1660009081526005602052604090205461097590896113a4565b600160a060020a038d166000908152600560205260409020556109ae565b61099d87896113a4565b965068010000000000000000870293505b60006008541115610a12576109c5600854866113a4565b60088190556801000000000000000088028115156109df57fe5b60098054929091049091019055600854680100000000000000008802811515610a0457fe5b048502840384039350610a18565b60088590555b600160a060020a038a16600090815260046020526040902054610a3b90866113a4565b600460008c600160a060020a0316600160a060020a031681526020019081526020016000208190555083856009540203925082600660008c600160a060020a0316600160a060020a03168152602001908152602001600020600082825401925050819055508b600160a060020a03168a600160a060020a03167f022c0d992e4d873a3748436d960d5140c1f9721cf73f7ca5ec679d3d9f4fe2d58f88604051808381526020018281526020019250505060405180910390a3849a505b5050505050505050505092915050565b600160a060020a0316600090815260066020908152604080832054600490925290912054600954680100000000000000009102919091030490565b6000805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529291830182828015610bc85780601f10610b9d57610100808354040283529160200191610bc8565b820191906000526020600020905b815481529060010190602001808311610bab57829003601f168201915b505050505081565b6000808080610be08560056113ba565b9250610bec85846113d1565b9150610bf7826113e3565b95945050505050565b6008545b90565b6000806000806008548511151515610c1e57600080fd5b610c278561147f565b9250610c348360056113ba565b9150610bf783836113d1565b600b5460ff1681565b601281565b6000806000610c5d6001610d7c565b11610c6757600080fd5b339150610c746000610d7c565b600160a060020a038316600081815260066020908152604080832080546801000000000000000087020190556005909152808220805490839055905193019350909183156108fc0291849190818181858888f19350505050158015610cdd573d6000803e3d6000fd5b50604080518281529051600160a060020a038416917fccad973dcd043c7d680389db4378bd6b9775db7124092e9e0422c9e46d7985dc919081900360200190a25050565b60008060008060085460001415610d405765082f79cd90009350610d70565b610d51670de0b6b3a764000061147f565b9250610d5e8360056113ba565b9150610d6a83836113d1565b90508093505b50505090565b60025481565b60003382610d9257610d8d81610b07565b610db6565b600160a060020a038116600090815260056020526040902054610db482610b07565b015b91505b50919050565b303190565b600160a060020a031660009081526004602052604090205490565b600a6020526000908152604090205460ff1681565b336000818152600a602052604090205460ff161515610e1257600080fd5b50600255565b60008060008060085460001415610e3757650a012317b0009350610d70565b610e48670de0b6b3a764000061147f565b9250610e558360056113ba565b9150610d6a83836113a4565b336000818152600a602052604090205460ff161515610e7f57600080fd5b50600160a060020a03919091166000908152600a60205260409020805460ff1916911515919091179055565b600033610eb781610dc4565b91505b5090565b60018054604080516020600284861615610100026000190190941693909304601f81018490048402820184019092528181529291830182828015610bc85780601f10610b9d57610100808354040283529160200191610bc8565b336000818152600a602052604090205460ff161515610f3657600080fd5b50600b805460ff19169055565b600080600080600080610f54610eab565b11610f5e57600080fd5b600b5433945060ff16158015610f8c5750600160a060020a0384166000908152600460205260409020548611155b1515610f9757600080fd5b6000610fa36001610d7c565b1115610fb157610fb1610c4e565b610fbc8660056113ba565b9250610fc886846113d1565b9150610fd38361147f565b9050610fe1600854846113d1565b600855600160a060020a03841660009081526004602052604090205461100790876113d1565b600160a060020a03808616600090815260046020526040808220939093559089168152205461103690836113a4565b600160a060020a0388811660008181526004602090815260408083209590955560098054948a16835260069091528482208054948c029094039093558254918152929092208054928502909201909155546008546110aa91906801000000000000000084028115156110a457fe5b046113a4565b600955604080518381529051600160a060020a03808a1692908716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35060019695505050505050565b336000818152600a602052604090205460ff16151561111b57600080fd5b815161112e906001906020850190611521565b505050565b336000818152600a602052604090205460ff16151561115157600080fd5b815161112e906000906020850190611521565b6000806000806000806000611177610eab565b1161118157600080fd5b336000818152600460205260409020549096508711156111a057600080fd5b8694506111ac8561147f565b93506111b98460056113ba565b92506111c584846113d1565b91506111d3600854866113d1565b600855600160a060020a0386166000908152600460205260409020546111f990866113d1565b600160a060020a03871660009081526004602090815260408083209390935560095460069091529181208054928802680100000000000000008602019283900390556008549192501015611269576112656009546008546801000000000000000086028115156110a457fe5b6009555b60408051868152602081018490528151600160a060020a038916927fc4823739c5787d2ca17e404aa47d5569ae71dfb49cbf21b3f6152ed238a31139928290030190a250505050505050565b33600081815260046020526040812054908111156112d6576112d681611164565b6112de610c4e565b5050565b6000610db93483610531565b6000806000806112fe6001610d7c565b1161130857600080fd5b6113126000610d7c565b33600081815260066020908152604080832080546801000000000000000087020190556005909152812080549082905590920194509250611354908490610531565b905081600160a060020a03167fbe339fc14b041c2b0e0f3dd2cd325d0c3668b78378001e53160eab36153264588483604051808381526020018281526020019250505060405180910390a2505050565b6000828201838110156113b357fe5b9392505050565b60008082848115156113c857fe5b04949350505050565b6000828211156113dd57fe5b50900390565b6008546000906c7e37be2022c0914b268000000090829064e8d4a5100061146c61146674015e531a0a1c872bad2ce16256fe82000000000000880269d3c21bcecceda10000006002860a020171e596b7b0c643c7196d9ccd05d00000000000850201793e3aeb4ae1383562f4b82261d969f7ac94ca4000000000000000016114ec565b856113d1565b81151561147557fe5b0403949350505050565b600854600090670de0b6b3a76400008381019181019083906114d965082f79cd900082850464e8d4a5100002018702600283670de0b6b3a763ffff1982890a8b9003010464e8d4a51000028115156114d357fe5b046113d1565b8115156114e257fe5b0495945050505050565b80600260018201045b81811015610db957809150600281828581151561150e57fe5b040181151561151957fe5b0490506114f5565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061156257805160ff191683800117855561158f565b8280016001018555821561158f579182015b8281111561158f578251825591602001919060010190611574565b50610eba92610c049250905b80821115610eba576000815560010161159b5600a165627a7a72305820835868a7f34cf76449a9c0dc93a19f9961aee2dc3e9f6e57c1b7235e7e1c92c90029</pre>
        </tab-content>
      </tab>
    </app-tabs>
  </div>
</ng-container>
<ng-template #addressNotFound>
  <app-info text="Address not found"></app-info>
</ng-template>